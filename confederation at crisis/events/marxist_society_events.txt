namespace = MARXISTSOCI

########################JOINING############################

#From on_character_ask_to_join_society
character_event = {
    id = MARXISTSOCI.100
	hide_window = yes
    is_triggered_only = yes
    trigger = {
    	FROM = { leader = { society_member_of = marxist_society } }
    }
    immediate = {
    	FROM = { leader = { character_event = { id = MARXISTSOCI.101 } } } #target is the leader of the society
    }
}

#Ping event
character_event = {
    id = MARXISTSOCI.101
	hide_window = yes
    is_triggered_only = yes
    immediate = {
    	FROM = { letter_event = { id = MARXISTSOCI.102 } } #send event back 
    }
}

#Welcome letter
letter_event = {
    id = MARXISTSOCI.102
    desc = EVTDESC_MARXISTSOCI_102
    border = GFX_event_letter_frame_war
	
    is_triggered_only = yes

    option = { #join the society
        name = EVTOPTA_MARXISTSOCI_102
		FROM = { ROOT = { join_prev_marxist_society_society = yes } } #call the scripted_effect to join the society you requested. (see tutorial_society_scripted_effects.txt)
		
		#you can make it simplier with this and not use the scripted_effect:
		
		# join_society = marxist_society
    }
    option = { #don't
        name = EVTOPTB_MARXISTSOCI_102
    }
}

########################AI JOIN AND AI RANK UP###########################

character_event = { #force the AI to join a society
	id = MARXISTSOCI.110
	hide_window = yes
	
	only_rulers = no #leave that unless you want random courtiers in the society
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { #if he's already a member, will force a rank up 25% of the time
				ai = yes
				prisoner = no
				NOT = { trait = incapable }
				society_member_of = marxist_society
				society_rank <= 3
				society_can_rank_up = yes
			}
			random_list = {
				95 = {}
				5 = {
					modifier = {
						factor = 0
						is_landed = no	
					}
					modifier = {
						factor = 0.5
						tier = baron
					}
					modifier = {
						factor = 5
						tier = duke	
					}
					modifier = {
						factor = 10
						tier = king	
					}
					modifier = {
						factor = 20
						tier = emperor	
					}
					society_rank_up = 1					
				}
			}
		}
		if = {
			limit = {
				ai = yes
				society_member_of = marxist_society
				society_rank = 4
				is_landed = no
			}
			random_list = {
				100 = {
					society_rank_up = -1					
				}
			}
		}
		any_courtier = {  #if you want courtier in the society enable this part
			limit = {
				ai = yes
				prisoner = no
				NOT = { trait = incapable }
				is_adult = yes
				is_in_society = no
				controls_religion = no
				block_general_event_trigger = no
			 }
			 character_event = { id = MARXISTSOCI.111 }
		}
		if = { #force the joining event on AI
			limit = {
				ai = yes
				prisoner = no
				NOT = { trait = incapable }
				is_adult = yes
				is_in_society = no
				controls_religion = no
				block_general_event_trigger = no
			}
			character_event = { id = MARXISTSOCI.111 }
		}
	}
}

character_event = { #AI join event
	id = MARXISTSOCI.111
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			95 = { # do nothing
			}
			5 = { # try to join a society 10% of the time
				trigger = { #meet the requirement
					can_join_society = marxist_society
				}
				modifier = {
					factor = 2
					prestige = 200
				}
				modifier = {
					factor = 2
					tier = duke
				}
				modifier = {
					factor = 5
					tier = king
				}
				modifier = {
					factor = 10
					tier = emperor
				}
				modifier = {
					factor = 0.5
					is_landed = no
				}
				join_society = marxist_society #join the society
				random_list = { # Artificially increase society influence for balance purposes
					75 = {
						modifier = {
							factor = 0
							society_influence >= 30
						}
						add_mission_succeed_influence_effect = yes #complete a fake mission for AI
					}
					25 = {
					}
				}
				if = { # Make grandmaster is there is none
					limit = {
						NOT = {
							society = {
								any_society_member = {
									is_society_grandmaster = yes
								}
							}
						}
					}
					set_society_grandmaster = yes
				}
			}
		}
	}
}

#######################Rank UP#############################

# Hidden start: Send the rank-up request to the current Grandmaster (delayed event on self, from decision to rank up)
character_event = {
	id = MARXISTSOCI.120

	hide_window = yes

	trigger = { #has pressed the button
		has_character_flag = has_sent_request_to_rank_up
	}
	
	is_triggered_only = yes

	immediate = {
		if = { #if he's still a member
			limit = { is_in_society = yes }
			random_society_member = { #will send the request to a random top rank member of the same society
				limit = {
					is_society_grandmaster = yes
					same_society_as = ROOT
				}
				character_event = { id = MARXISTSOCI.121 } # send request to Grand Master.
			}
		}
		if = { #if he's not a member
			limit = { is_in_society = no }
			clr_character_flag = has_sent_request_to_rank_up
		}
	}
}

# Grandmaster gets the rank-up request
character_event = {
	id = MARXISTSOCI.121
	
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		event_target:rank_up_target = { letter_event = { id = MARXISTSOCI.122 } } #send it back
	}
}

#Grand master approves my request
letter_event = {
	id = MARXISTSOCI.122
	desc = EVTDESC_MARXISTSOCI_122
	border = GFX_event_letter_frame_war

	trigger = {
		society_rank < 4 #cannot rank up past 4
		has_character_flag = has_sent_request_to_rank_up
	}
	
	is_triggered_only = yes

	#Rank up approved
	option = {
		name = EVTOPTA_MARXISTSOCI_122
		if = { limit = { society_rank < 4 } #if not max rank, rank up
			society_rank_up = 1
		}
		clr_character_flag = has_sent_request_to_rank_up
	}
}

#################################MISSIONS######################################

#Mission tombola, this is where an hidden event choose a quest. I have made only one quest, do look for other mission tombola in the vanilla files for more example.
character_event = {
    id = MARXISTSOCI.130
    hide_window = yes

    is_triggered_only = yes
    
	is_in_society = yes

	trigger = {
		society_member_of = marxist_society
		has_any_quest = no #cannot have more than 1 shown
		NOT = { has_character_modifier = quest_cooldown_timer } #to avoid spam and delay it for people who refused a quest.
		NOT = { is_inaccessible_trigger = yes }
		prisoner = no
		society = { #look if there is a close member to give you the quest
			any_society_member = {
				NOT = { character = ROOT }
				prisoner = no
				is_within_diplo_range = ROOT
				opinion = { who = ROOT value = 0 }
			}
		}
	}

    immediate = {
    	#Picks out mission giver
    	random_list = {
    		20 = { #International society member
    			society = {
    				random_society_member = {
    					limit = { 	
							NOT = { character = ROOT }
							prisoner = no
    						is_within_diplo_range = ROOT
							opinion = { who = ROOT value = 0 }
    					}
    					save_event_target_as = quest_collaborator
    				}
    			}
    		}
    		40 = { #Realm society member is there is any
    			trigger = {
    				society = {
    					any_society_member = {
    						NOT = { character = ROOT }
    						prisoner = no
    						is_within_diplo_range = ROOT
							opinion = { who = ROOT value = 0 }
							same_realm = ROOT
    					}
    				}
    			}
    			society = {
    				random_society_member = {
    					limit = { 	
    						NOT = { character = ROOT }
    						prisoner = no
    						is_within_diplo_range = ROOT
							opinion = { who = ROOT value = 0 }
							same_realm = ROOT
    					}
    					save_event_target_as = quest_collaborator
    				}
    			}
    		}
    	}

    	#Randomizes mission
    	random_list = {
			40 = { #press the button, the mission
				event_target:quest_collaborator = { character_event = { id = MARXISTSOCI.140 days = 7 random = 7 } } #will send the quest to the quest_collaborator, which will offer it back to you.
			}
			30 = { 
				modifier = {
					factor = 0
					OR = {
						government = nomadic_government
						government = tribal_government
					}
				}
				event_target:quest_collaborator = { character_event = { id = MARXISTSOCI.1410 days = 7 random = 7 } } 
			}
			30 = { 
				event_target:quest_collaborator = { character_event = { id = MARXISTSOCI.1420 days = 7 random = 7 } } 
			}
			
			50 = { # AI bypasses missions at times and goes directly to success/failure, increase the 50 if you add more mission or you could delete this whole { }.
				modifier = {
					factor = 0
					ai = no
				}
				random_list = {
					50 = { #success, harder the more influencial the society is
						modifier = {
							factor = 0.9
							society_influence >= 30
						}
						modifier = {
							factor = 0.9
							society_influence >= 40
						}
						modifier = {
							factor = 0.8
							society_influence >= 50
						}
						modifier = {
							factor = 0.7
							society_influence >= 70
						}
						modifier = {
							factor = 0.6
							society_influence >= 80
						}
						modifier = {
							factor = 0.5
							society_influence >= 90
						}
						add_mission_succeed_influence_effect = yes
					}
					50 = { #failure
						add_mission_fail_influence_effect = yes
					}
				}
			}
			
			100 = { #AI refuse mission
				modifier = {
					factor = 0
					ai = no
				}
			}
    	}
    }
}

#This is the quest_collaborator receiving the mission and giving it back to you.
character_event = {
    id = MARXISTSOCI.140
    hide_window = yes #instant event, no need to show it
    is_triggered_only = yes
    immediate = { FROM = { society_quest_event = { id = MARXISTSOCI.141 days = 7 random = 7 } } }
}
#This event is set as a society_quest_event, not character_event. This is the accept or refuse the quest event, the next parts of the quest use the regular character_event.
society_quest_event = {
    id = MARXISTSOCI.141
    desc = EVTDESC_MARXISTSOCI_141

    is_triggered_only = yes
   
    option = { 
		name = ACCEPT

		set_quest = marxist_society_quest_donate

	}

	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = { #will delay the next quest for a while
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}
character_event = {
    id = MARXISTSOCI.142
    desc = EVTDESC_MARXISTSOCI_142
    picture = GFX_evt_throne_room
    border = GFX_event_normal_frame_war

    is_triggered_only = yes

    option = { #Quest will success
        name = EVTOPTA_MARXISTSOCI_142
		
		clr_quest = marxist_society_quest_donate
		add_mission_succeed_influence_effect = yes #quest add society influence
		change_society_currency = 200 #reward
    }
}

#This is the quest_collaborator receiving the mission and giving it back to you.
character_event = {
    id = MARXISTSOCI.1410
    hide_window = yes #instant event, no need to show it
    is_triggered_only = yes
    immediate = { FROM = { society_quest_event = { id = MARXISTSOCI.1411 days = 7 random = 7 } } }
}
#This event is set as a society_quest_event, not character_event. This is the accept or refuse the quest event, the next parts of the quest use the regular character_event.
society_quest_event = {
    id = MARXISTSOCI.1411
    desc = EVTDESC_MARXISTSOCI_1411

    is_triggered_only = yes
   
    option = { 
		name = ACCEPT

		set_quest = marxist_society_quest_city

	}

	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = { #will delay the next quest for a while
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}
character_event = {
	id = MARXISTSOCI.1412
    desc = EVTDESC_MARXISTSOCI_1412
    picture = GFX_evt_throne_room
    border = GFX_event_normal_frame_war
	is_triggered_only = yes
	
	trigger = {
		has_quest = marxist_society_quest_city
		FROM = {
			holding_type = city
		}
	}
	
	option = { #Quest will success
        name = EVTOPTA_MARXISTSOCI_1412
		
		clr_quest = marxist_society_quest_city
		add_mission_succeed_influence_effect = yes #quest add society influence
		change_society_currency = 300 #reward
    }
}

#This is the quest_collaborator receiving the mission and giving it back to you.
character_event = {
    id = MARXISTSOCI.1420
    hide_window = yes #instant event, no need to show it
    is_triggered_only = yes
    immediate = { FROM = { society_quest_event = { id = MARXISTSOCI.1421 days = 7 random = 7 } } }
}
#This event is set as a society_quest_event, not character_event. This is the accept or refuse the quest event, the next parts of the quest use the regular character_event.
society_quest_event = {
	id = MARXISTSOCI.1421
	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes
	
	trigger = {
		FROM = { is_alive = yes }
		society_member_of = marxist_society
		same_society_as = FROM
		has_any_quest = no
		NOT = { has_character_modifier = quest_cooldown_timer }
		NOT = { is_inaccessible_trigger = yes }
		is_landed = yes
		any_independent_ruler = {
	        any_realm_title = {
	            tier = COUNT
	            ROOT = {
	                can_use_cb = { #against target
	                    target = PREVPREV
	                    thirdparty_title = PREV
	                    casus_belli = pagan_county_conquest
	                }
	            }
	            location = {
		            OR = {
			            AND = { #Either you can travel via water to them...
				        	is_coastal = yes
				        	#can_naval_path_to = { target = event_target:home_capital distance < 1000 }
			            }
			            AND = {
				            #Or they are accessible via land...
				            event_target:home_capital = { is_coastal = no }
					        #can_land_path_to = { target = event_target:home_capital distance < 1000 }
			            }
			            AND = { #Or not a coastal place...
				        	is_coastal = no
				        	#can_land_path_to = { target = event_target:home_capital distance < 1000 }
			            }
			        }
	            }
	            holder_scope = {
		        	top_liege = {
		        		NOT = { has_truce = ROOT }
				        # target should not be stronger than 120% of your strength, and not weaker than 50% of your strength. 
				        #NOT = { relative_power = { who = ROOT power = 1.2 } }
				        #relative_power = { who = ROOT power = 0.5 }
		        	}
		        }
	        }
		}
	}

	desc = EVTDESC_MARXISTSOCI_1421


	immediate = {
		#Declare a county conquest against someone
		random_independent_ruler = {
		    limit = {
		        any_realm_title = {
		            tier = COUNT
		            ROOT = {
		                can_use_cb = { #against target
		                    target = PREVPREV
		                    thirdparty_title = PREV
		                    casus_belli = pagan_county_conquest
		                }
		            }
		            location = {
			            OR = {
				            AND = { #Either you can travel via water to them...
					        	is_coastal = yes
					        	#can_naval_path_to = { target = event_target:home_capital distance < 1000 }
				            }
				            AND = {
					            #Or they are accessible via land...
					            event_target:home_capital = { is_coastal = no }
						        #can_land_path_to = { target = event_target:home_capital distance < 1000 }
				            }
				            AND = { #Or not a coastal place...
					        	is_coastal = no
					        	#can_land_path_to = { target = event_target:home_capital distance < 1000 }
				            }
				        }
		            }
		            holder_scope = {
			        	top_liege = {
			        		NOT = { has_truce = ROOT }
					        # target should not be stronger than 120% of your strength, and not weaker than 50% of your strength. 
					        #NOT = { relative_power = { who = ROOT power = 1.2 } }
					        #relative_power = { who = ROOT power = 0.5 }
			        	}
			        }
		        }
		    }
		    random_realm_title = {
		        limit = {
		            tier = COUNT
		            ROOT = {
		                can_use_cb = { #against target
		                    target = PREVPREV
		                    thirdparty_title = PREV
		                    casus_belli = pagan_county_conquest
		                }
		            }
		            location = {
			            OR = {
				            AND = { #Either you can travel via water to them...
					        	is_coastal = yes
					        	#can_naval_path_to = { target = event_target:home_capital distance < 1000 }
				            }
				            AND = {
					            #Or they are accessible via land...
					            event_target:home_capital = { is_coastal = no }
						        #can_land_path_to = { target = event_target:home_capital distance < 1000 }
				            }
				            AND = { #Or not a coastal place...
					        	is_coastal = no
					        	#can_land_path_to = { target = event_target:home_capital distance < 1000 }
				            }
				        }
		            }
		            holder_scope = {
			        	top_liege = {
			        		NOT = { has_truce = ROOT }
					        # target should not be stronger than 120% of your strength, and not weaker than 50% of your strength. 
					        #NOT = { relative_power = { who = ROOT power = 1.2 } }
					        #relative_power = { who = ROOT power = 0.5 }
			        	}
			        }
		        }
	            save_event_target_as = my_war_target
		        holder_scope = {
		            top_liege = {
		                save_event_target_as = my_war_target_holder
		            }
		        }
		    }
		}
	}

	quest_target = event_target:my_war_target #Is this how it's done?

	option = {
		name = ACCEPT
		event_target:my_war_target = {
			show_scope_change = no
			set_quest_target = {
				id = marxist_society_quest_liberate
				holder = ROOT
			}
		}
	}
	option  = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}
#on_war_ended_victory: Clear Wage War mission correctly
# From = Attacker, Root = Defender
character_event = {
	id = MARXISTSOCI.1422
	hide_window = yes
	is_triggered_only = yes
	has_dlc = "Holy Fury"
	trigger = {
		FROM = {
			has_quest = marxist_society_quest_liberate
		}
		any_realm_title = {
			is_quest_target_of = FROM
		}
	}

	immediate = {
		#To handle Warrior Lodge mission "Wage War" completion...
		random_realm_title = {
			limit = { is_quest_target_of = FROM }
			save_event_target_as = target_title
		}
		FROM = { save_event_target_as = attacker_target }
		save_event_target_as = defender_target

		event_target:attacker_target = {
			set_character_flag = won_war@event_target:defender_target
			character_event = { id = MARXISTSOCI.14220 days = 6 } # Hero character states that you completed the mission...
		}
	}
}
character_event = {
	id = MARXISTSOCI.14220
	desc = EVTDESC_MARXISTSOCI_1422
    picture = GFX_evt_throne_room
    border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTA_MARXISTSOCI_1422
		clr_quest = marxist_society_quest_liberate
		add_mission_succeed_influence_effect = yes #quest add society influence
		change_society_currency = 300 #reward
	}
}
#on_war_ended_whitepeace: Clear Wage War mission correctly
# From = Attacker, Root = Defender
character_event = {
	id = MARXISTSOCI.1423
	hide_window = yes
	is_triggered_only = yes
	has_dlc = "Holy Fury"
	trigger = {
		FROM = {
			has_quest = marxist_society_quest_liberate
		}
		any_realm_title = {
			is_quest_target_of = FROM
		}
	}

	immediate = {
		#To handle Warrior Lodge mission "Wage War" completion...
		random_realm_title = {
			limit = { is_quest_target_of = FROM }
			save_event_target_as = target_title
		}
		FROM = { save_event_target_as = attacker_target }
		save_event_target_as = defender_target

		event_target:attacker_target = {
			set_character_flag = won_war@event_target:defender_target
			character_event = { id = MARXISTSOCI.14230 days = 6 } # Hero character states that you completed the mission...
		}
	}
}
character_event = {
	id = MARXISTSOCI.14230
	desc = EVTDESC_MARXISTSOCI_1423
    picture = GFX_evt_throne_room
    border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTA_MARXISTSOCI_1423
		clr_quest = { id = marxist_society_quest_liberate failure = yes }
		change_society_currency = 100 #reward
	}
}
#on_war_ended_defeat: Clear Wage War mission correctly
# From = Attacker, Root = Defender
character_event = {
	id = MARXISTSOCI.1424
	hide_window = yes
	is_triggered_only = yes
	has_dlc = "Holy Fury"
	trigger = {
		FROM = {
			has_quest = marxist_society_quest_liberate
		}
		any_realm_title = {
			is_quest_target_of = FROM
		}
	}

	immediate = {
		#To handle Warrior Lodge mission "Wage War" completion...
		random_realm_title = {
			limit = { is_quest_target_of = FROM }
			save_event_target_as = target_title
		}
		FROM = { save_event_target_as = attacker_target }
		save_event_target_as = defender_target

		event_target:attacker_target = {
			set_character_flag = won_war@event_target:defender_target
			character_event = { id = MARXISTSOCI.14240 days = 6 } # Hero character states that you completed the mission...
		}
	}
}
character_event = {
	id = MARXISTSOCI.14240
	desc = EVTDESC_MARXISTSOCI_1424
    picture = GFX_evt_throne_room
    border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTA_MARXISTSOCI_1424
		clr_quest = { id = marxist_society_quest_liberate failure = yes }
		change_society_currency = 50 #reward
	}
}
#on_war_ended_invalid: Clear Wage War mission correctly
# From = Attacker, Root = Defender
character_event = {
	id = MARXISTSOCI.1425
	hide_window = yes
	is_triggered_only = yes
	has_dlc = "Holy Fury"
	trigger = {
		FROM = {
			has_quest = marxist_society_quest_liberate
		}
		any_realm_title = {
			is_quest_target_of = FROM
		}
	}

	immediate = {
		#To handle Warrior Lodge mission "Wage War" completion...
		random_realm_title = {
			limit = { is_quest_target_of = FROM }
			save_event_target_as = target_title
		}
		FROM = { save_event_target_as = attacker_target }
		save_event_target_as = defender_target

		event_target:attacker_target = {
			set_character_flag = won_war@event_target:defender_target
			character_event = { id = MARXISTSOCI.14250 days = 6 } # Hero character states that you completed the mission...
		}
	}
}
character_event = {
	id = MARXISTSOCI.14250
	desc = EVTDESC_MARXISTSOCI_1425
    picture = GFX_evt_throne_room
    border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
        add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}
    }
	option = { #Alas
        name = ALAS
		clr_quest = { id = marxist_society_quest_liberate failure = yes }
    }
}


#Trigger every 1 year
character_event = {
    id = MARXISTSOCI.150
    desc = EVTDESC_MARXISTSOCI_150
    picture = GFX_evt_throne_room
    border = GFX_event_normal_frame_war

    is_triggered_only = yes

	trigger = {
		society_member_of = marxist_society #Use this to limit events and decisions to your society with trigger
	}
	

    option = {
        name = EVTOPTA_MARXISTSOCI_150
	change_learning = 1
    }
    option = {
        name = EVTOPTB_MARXISTSOCI_150
	change_society_currency = 100
    }
}

#Trigger every 2 years
character_event = {
    id = MARXISTSOCI.151
    desc = EVTDESC_MARXISTSOCI_151
    picture = GFX_evt_throne_room
    border = GFX_event_normal_frame_war

    is_triggered_only = yes

	trigger = {
		society_member_of = marxist_society #Use this to limit events and decisions to your society with trigger
	}

    option = {
        name = EVTOPTA_MARXISTSOCI_151
	change_diplomacy = 1
    }
    option = {
        name = EVTOPTB_MARXISTSOCI_151
	change_martial = 1
    }
    option = {
        name = EVTOPTC_MARXISTSOCI_151
	change_stewardship = 1
    }
    option = {
        name = EVTOPTD_MARXISTSOCI_151
	change_intrigue = 1
    }
}
#Donation
narrative_event = {
     id = MARXISTSOCI.160
     title = EVTNAME_MARXISTSOCI_160
     desc = EVTDESC_MARXISTSOCI_160
     picture = GFX_evt_marxist_society_learning # There needs to be a default picture, even if it won't actually show up

     border = GFX_event_narrative_frame_religion

     is_triggered_only = yes

	option = {
		name = EVTOPTA_MARXISTSOCI_160
		wealth = -100
		if = {
			limit = {
				ai = no
			}
			scaled_wealth = -1
		}
		change_society_currency = 200
			if = { #if on the quest, receive that event
				limit = {
					has_quest = marxist_society_quest_donate
				}
				character_event = { id = MARXISTSOCI.142 }
			}
	}
	option = {
		name = EVTOPTB_MARXISTSOCI_160
		wealth = -200
		if = {
			limit = {
				ai = no
			}
			scaled_wealth = -2
		}
		change_society_currency = 500
			if = { #if on the quest, receive that event
				limit = {
					has_quest = marxist_society_quest_donate
				}
				character_event = { id = MARXISTSOCI.142 }
			}
	}
	option = {
		name = EVTOPTC_MARXISTSOCI_160
		wealth = -500
		if = {
			limit = {
				ai = no
			}
			scaled_wealth = -4
		}
		change_society_currency = 2000
			if = { #if on the quest, receive that event
				limit = {
					has_quest = marxist_society_quest_donate
				}
				character_event = { id = MARXISTSOCI.142 }
			}
	}
	option = {
		name = EVTOPTD_MARXISTSOCI_160
	}
}

#Learning
narrative_event = {
     id = MARXISTSOCI.1000
     title = EVTNAME_MARXISTSOCI_1000
     desc = EVTDESC_MARXISTSOCI_1000
     picture = GFX_evt_marxist_society_learning # There needs to be a default picture, even if it won't actually show up

     border = GFX_event_narrative_frame_religion

     is_triggered_only = yes

	option = {
		name = EVTOPTA_MARXISTSOCI_1000
		change_learning = 1
	}
	option = {
		name = EVTOPTB_MARXISTSOCI_1000
		change_stewardship = 1
	}
	option = {
		name = EVTOPTC_MARXISTSOCI_1000
		hidden_effect = { character_event = { id = MARXISTSOCI.1001 } }
	}
}
narrative_event = {
     id = MARXISTSOCI.1001
     title = EVTNAME_MARXISTSOCI_1000
     desc = EVTDESC_MARXISTSOCI_1000
     picture = GFX_evt_marxist_society_learning # There needs to be a default picture, even if it won't actually show up

     border = GFX_event_narrative_frame_religion

     is_triggered_only = yes

	option = {
		name = EVTOPTA_MARXISTSOCI_1001
		change_diplomacy = 1
	}
	option = {
		name = EVTOPTB_MARXISTSOCI_1001
		change_intrigue = 1
	}
	option = {
		name = EVTOPTC_MARXISTSOCI_1001
		change_martial = 1
	}
	option = {
		name = EVTOPTD_MARXISTSOCI_1001
		hidden_effect = { character_event = { id = MARXISTSOCI.1000 } }
	}
}


#Notification for when you convert someone to Atheism
character_event = {
	id = MARXISTSOCI.1010
	picture = GFX_evt_religious_exultation
	desc = EVTDESC_MARXISTSOCI_1010
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EXCELLENT
	}
}

#Notification for when you are targeted
character_event = {
	id = MARXISTSOCI.1011
	picture = GFX_evt_religious_exultation
	desc = EVTDESC_MARXISTSOCI_1011
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = I_SEE
	}
}
